<!DOCTYPE html>
<html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init">
<head>
  <meta charset="utf-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <link rel="icon" href="/favicon.ico">
  
  <title>萤火虫的博客</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox-1.3.4.css">
  <!--在这里倒入jquery 方便处理部分页面的jquery-->
  <script src="https://cdn.staticfile.org/jquery/1.7/jquery.min.js" type="text/javascript" ></script>
</head>
<body class="home">
	<header class="site-header navfixed-false">
  <div class="container">
      <h1><a href="/" title="萤火虫的博客"><span class="octicon octicon-mark-github"></span> 萤火虫的博客</a></h1>
      <nav class="site-header-nav" role="navigation">
        
              
              <a href="/"  class=" site-header-nav-item hvr-underline-from-center" title="首页">首页</a>
        
              
              <a href="/categories/"  class=" site-header-nav-item hvr-underline-from-center" title="分类">分类</a>
        
              
              <a href="/open-source/"  class=" site-header-nav-item hvr-underline-from-center" title="开源">开源</a>
        
              
              <a href="/about/"  class=" site-header-nav-item hvr-underline-from-center" title="关于">关于</a>
        
      </nav>
  </div>
</header>

	<section class="banner-false">
    <div class="collection-head">
        <div class="container">
            <div class="collection-title">
                <h1 class="collection-header" id="site-description">
                    111
                </h1>
                <div class="collection-info">
                    
                    
                        <span class="meta-info">
                            
                                <span class="octicon octicon-location">
                                   
                                        上海, 中国
                                    
                                </span>
                                
                            
                        </span>
                    
                        <span class="meta-info">
                            
                                <span class="octicon octicon-mark-github">
                                   
                                </span>
                                
                                    <a href="http://github.com/vanicesun" target="_blank">vanicesun</a>
                                
                            
                        </span>
                    
                        <span class="meta-info">
                            
                                <span class="octicon octicon-organization">
                                   
                                        组织/公司
                                    
                                </span>
                                
                            
                        </span>
                    
                </div>
            </div>
        </div>
    </div>
</section>
	   <section class="container">
    <div class="columns">
        <div class="column two-thirds">
            
                  <article id="post-ss" class="repo-list">
    <div class="repo-list-item" >
      <h3 class="repo-list-name" itemprop="name">
        
  
      <a class="article-title" href="/2020/01/14/ss/">Hello World</a>
  

      </h3>
      <div class="repo-list-description">
        
          <h3 id="hahahah"><a href="#hahahah" class="headerlink" title="hahahah"></a>hahahah</h3><ul>
<li>点上班v传递深V发点上班v</li>
</ul>

        
      </div>
      <p class="repo-list-meta">
        <span class="meta-info">
          <span class="octicon octicon-calendar"></span>
           <time datetime="2020-01-14T03:44:41.940Z" itemprop="datePublished">2020-01-14</time>
        </span>

        
      
        <!--
          
        -->

      </p>
    </div>
  </article>
            
                  <article id="post-speingboot-session" class="repo-list">
    <div class="repo-list-item" >
      <h3 class="repo-list-name" itemprop="name">
        
  
      <a class="article-title" href="/2020/01/06/speingboot-session/">实现Session共享</a>
  

      </h3>
      <div class="repo-list-description">
        
          <blockquote>
<p>2020年，只有更加努力的自己，才能创造自己更加美好的生活！乾坤未定，你我皆是黑马！</p>
</blockquote>
<h3 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h3><p>在传统的单服务架构中，一般来说，只有一个服务器，那么不存在 Session 共享问题，但是在分布式/集群项目中，Session 共享则是一个必须面对的问题，先看一个简单的架构图：<br><img src="http://www.javaboy.org/images/boot/14-1.png#pic_center" alt=""><br>在这样的架构中，会出现一些单服务中不存在的问题，例如客户端发起一个请求，这个请求到达 Nginx 上之后，被 Nginx 转发到 Tomcat A 上，然后在 Tomcat A 上往 session 中保存了一份数据，下次又来一个请求，这个请求被转发到 Tomcat B 上，此时再去 Session 中获取数据，发现没有之前的数据。<br>对于这一类问题的解决，思路很简单，就是将各个服务之间需要共享的数据，保存到一个公共的地方（主流方案就是 Redis）：<br><img src="http://www.javaboy.org/images/boot/14-2.png#pic_center" alt=""><br>当所有 Tomcat 需要往 Session 中写数据时，都往 Redis 中写，当所有 Tomcat 需要读数据时，都从 Redis 中读。这样，不同的服务就可以使用相同的 Session 数据了。<br>这样的方案，可以由开发者手动实现，即手动往 Redis 中存储数据，手动从 Redis 中读取数据，相当于使用一些 Redis 客户端工具来实现这样的功能，毫无疑问，手动实现工作量还是蛮大的。<br>一个简化的方案就是使用 Spring Session 来实现这一功能，Spring Session 就是使用 Spring 中的代理过滤器，将所有的 Session 操作拦截下来，自动的将数据 同步到 Redis 中，或者自动的从 Redis 中读取数据。<br>对于开发者来说，所有关于 Session 同步的操作都是透明的，开发者使用 Spring Session，一旦配置完成后，具体的用法就像使用一个普通的 Session 一样。</p>
<h2 id="实战-创建工程"><a href="#实战-创建工程" class="headerlink" title="实战-创建工程"></a>实战-创建工程</h2><p>首先 创建一个 Spring Boot 工程，引入 Web、Spring Session 以及 Redis:<br><img src="http://www.javaboy.org/images/boot/14-3.png#pic_center" alt=""><br>创建成功之后，pom.xml 文件如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong><br>这里我使用的 Spring Boot 版本是 2.1.4 ，如果使用当前最新版 Spring Boot2.1.5 的话，除了上面这些依赖之外，需要额外添加 Spring Security 依赖（其他操作不受影响，仅仅只是多了一个依赖，当然也多了 Spring Security 的一些默认认证流程）。</p>
<h2 id="配置-Redis"><a href="#配置-Redis" class="headerlink" title="配置 Redis"></a>配置 Redis</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spring.redis.host=192.168.66.128</span><br><span class="line">spring.redis.port=6379</span><br><span class="line">spring.redis.password=123</span><br><span class="line">spring.redis.database=0</span><br></pre></td></tr></table></figure>
<p>这里的 Redis ，我虽然配置了四行，但是考虑到端口默认就是 6379 ，database 默认就是 0，所以真正要配置的，其实就是两行。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>配置完成后 ，就可以使用 Spring Session 了，其实就是使用普通的 HttpSession ，其他的 Session 同步到 Redis 等操作，框架已经自动帮你完成了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">public class HelloController &#123;</span><br><span class="line">    @Value(&quot;$&#123;server.port&#125;&quot;)</span><br><span class="line">    Integer port;</span><br><span class="line">    @GetMapping(&quot;/set&quot;)</span><br><span class="line">    public String set(HttpSession session) &#123;</span><br><span class="line">        session.setAttribute(&quot;user&quot;, &quot;javaboy&quot;);</span><br><span class="line">        return String.valueOf(port);</span><br><span class="line">    &#125;</span><br><span class="line">    @GetMapping(&quot;/get&quot;)</span><br><span class="line">    public String get(HttpSession session) &#123;</span><br><span class="line">        return session.getAttribute(&quot;user&quot;) + &quot;:&quot; + port;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>考虑到一会 Spring Boot 将以集群的方式启动 ，为了获取每一个请求到底是哪一个 Spring Boot 提供的服务，需要在每次请求时返回当前服务的端口号，因此这里我注入了 server.port 。<br>接下来 ，项目打包：<br><img src="http://www.javaboy.org/images/boot/14-4.png#pic_center" alt=""><br>打包之后，启动项目的两个实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java -jar sessionshare-0.0.1-SNAPSHOT.jar --server.port=8080</span><br><span class="line">java -jar sessionshare-0.0.1-SNAPSHOT.jar --server.port=8081</span><br></pre></td></tr></table></figure>
<p>然后先访问 localhost:8080/set 向 8080 这个服务的 Session 中保存一个变量，访问完成后，数据就已经自动同步到 Redis 中 了 ：<br><img src="http://www.javaboy.org/images/boot/14-5.png#pic_center" alt=""><br>然后，再调用 localhost:8081/get 接口，就可以获取到 8080 服务的 session 中的数据：<br><img src="http://www.javaboy.org/images/boot/14-6.png#pic_center" alt=""></p>
<p>此时关于 session 共享的配置就已经全部完成了，session 共享的效果我们已经看到了，但是每次访问都是我自己手动切换服务实例，因此，接下来我们来引入 Nginx ，实现服务实例自动切换。</p>
<h2 id="引入-Nginx"><a href="#引入-Nginx" class="headerlink" title="引入 Nginx"></a>引入 Nginx</h2><p>很简单，进入 Nginx 的安装目录的 conf 目录下（默认是在 /usr/local/nginx/conf），编辑 nginx.conf 文件:<br><img src="http://www.javaboy.org/images/boot/14-7.png#pic_center" alt=""></p>
<p><strong>在这段配置中：</strong></p>
<ul>
<li>upstream 表示配置上游服务器</li>
<li>javaboy.org 表示服务器集群的名字，这个可以随意取名字</li>
<li>upstream 里边配置的是一个个的单独服务</li>
<li>weight 表示服务的权重，意味者将有多少比例的请求从 Nginx 上转发到该服务上</li>
<li>location 中的 proxy_pass 表示请求转发的地址，/ 表示拦截到所有的请求，转发转发到刚刚配置好的服务集群中</li>
<li>proxy_redirect 表示设置当发生重定向请求时，nginx 自动修正响应头数据（默认是 Tomcat 返回重定向，此时重定向的地址是 Tomcat 的地址，我们需要将之修改使之成为 Nginx 的地址）。<br>配置完成后，将本地的 Spring Boot 打包好的 jar 上传到 Linux ，然后在 Linux 上分别启动两个 Spring Boot 实例：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar sessionshare-0.0.1-SNAPSHOT.jar --server.port=8080 &amp;</span><br><span class="line">nohup java -jar sessionshare-0.0.1-SNAPSHOT.jar --server.port=8081 &amp;</span><br></pre></td></tr></table></figure>
其中</li>
</ul>
<p><strong>nohup</strong> 表示当终端关闭时，Spring Boot 不要停止运行<br><strong>&amp;</strong> 表示让 Spring Boot 在后台启动<br>配置完成后，重启 Nginx：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/nginx -s reload</span><br></pre></td></tr></table></figure>
<p>Nginx 启动成功后，我们首先手动清除 Redis 上的数据，然后访问 192.168.66.128/set 表示向 session 中保存数据，这个请求首先会到达 Nginx 上，再由 Nginx 转发给某一个 Spring Boot 实例：<br><img src="http://www.javaboy.org/images/boot/14-8.png#pic_center" alt=""><br>如上，表示端口为 8081 的 Spring Boot 处理了这个 /set 请求，再访问 /get 请求：<br><img src="http://www.javaboy.org/images/boot/14-9.png#pic_center" alt=""><br>可以看到，/get 请求是被端口为 8080 的服务所处理的。</p>

        
      </div>
      <p class="repo-list-meta">
        <span class="meta-info">
          <span class="octicon octicon-calendar"></span>
           <time datetime="2020-01-06T05:51:00.000Z" itemprop="datePublished">2020-01-06</time>
        </span>

        
          <span class="meta-info">
            <span class="octicon octicon-file-directory"></span>
            <a href='/categories/springboot、session/' title=''>springboot、session</a>
          </span>
        
      
        <!--
          
            <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/springboot/" rel="tag">springboot</a></li></ul>
          
        -->

      </p>
    </div>
  </article>
            
                  <article id="post-vue - hr" class="repo-list">
    <div class="repo-list-item" >
      <h3 class="repo-list-name" itemprop="name">
        
  
      <a class="article-title" href="/2019/12/30/vue%20-%20hr/">推荐开源项目-微人事</a>
  

      </h3>
      <div class="repo-list-description">
        
          <blockquote>
<p>过去了就是昨天，新的一页翻开还是晴朗的天。</p>
</blockquote>
<h2 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h2><p>微人事是一个前后端分离的人力资源管理系统，项目采用 SpringBoot+Vue 开发，项目加入常见的企业级应用所涉及到的技术点，例如 Redis、RabbitMQ 等。</p>
<ul>
<li>项目地址：<a href="https://github.com/lenve/vhr" target="_blank" rel="noopener">https://github.com/lenve/vhr</a> </li>
<li><a href="https://mp.weixin.qq.com/s/qN01Le434FWom0c3jqiQmA" target="_blank" rel="noopener">项目部署视频教程（旧版）</a></li>
<li><a href="https://mp.weixin.qq.com/s/FoNVyAR1BkYfutFq9sjJNQ" target="_blank" rel="noopener">项目部署视频教程（新版）</a></li>
</ul>
<h3 id="项目技术栈"><a href="#项目技术栈" class="headerlink" title="项目技术栈"></a>项目技术栈</h3><h4 id="后端技术栈"><a href="#后端技术栈" class="headerlink" title="后端技术栈"></a>后端技术栈</h4><ol>
<li>Spring Boot</li>
<li>Spring Security</li>
<li>MyBatis</li>
<li>MySQL</li>
<li>Redis</li>
<li>RabbitMQ</li>
<li>Spring Cache</li>
<li>WebSocket</li>
<li>…</li>
</ol>
<h4 id="前端技术栈"><a href="#前端技术栈" class="headerlink" title="前端技术栈"></a>前端技术栈</h4><ol>
<li>Vue</li>
<li>ElementUI</li>
<li>axios</li>
<li>vue-router</li>
<li>Vuex</li>
<li>WebSocket</li>
<li>vue-cli4</li>
<li>…</li>
</ol>
<h3 id="项目效果图"><a href="#项目效果图" class="headerlink" title="项目效果图"></a>项目效果图</h3><p>首先，不同的用户在登录成功之后，根据不同的角色，会看到不同的系统菜单，完整菜单如下：</p>
<p><img src="https://raw.githubusercontent.com/wiki/lenve/vhr/doc/p278.png#pic_center" alt="p278"></p>
<p>不同用户登录上来之后，可能看到的会有差异，如下：</p>
<p><img src="https://raw.githubusercontent.com/wiki/lenve/vhr/doc/p279.png#pic_center" alt="p279"></p>
<p>每个用户的角色是由系统管理员进行分配的，系统管理员给用户分配角色的页面如下：</p>
<p><img src="https://raw.githubusercontent.com/wiki/lenve/vhr/doc/p280.png#pic_center" alt="p280"></p>
<p>系统管理员也可以管理不同角色可以操作的资源，页面如下：</p>
<p><img src="https://raw.githubusercontent.com/wiki/lenve/vhr/doc/p281.png#pic_center" alt="p281"></p>
<h2 id="快速部署"><a href="#快速部署" class="headerlink" title="快速部署"></a>快速部署</h2><ol>
<li>clone 项目到本地 <code>git@github.com:lenve/vhr.git</code></li>
<li>数据库脚本放在项目根目录下，在 MySQL 中执行数据库脚本，导入数据库，并修改项目中关于数据的配置（resources 目录下的 application.properties 文件中）</li>
<li>提前准备好 Redis，在 项目的 application.properties 文件中，将 Redis 配置改为自己的</li>
<li>提前准备好 RabbitMQ，在项目的 application.properties 文件中将 RabbitMQ 的配置改为自己的（<strong>注意，RabbitMQ 需要分别修改 mailserver 和 vhrserver 的配置文件</strong>）</li>
<li>在 IntelliJ IDEA 中打开 vhr 项目，启动 mailserver 模块</li>
<li>运行 vhrserver 中的 vhr-web 模块</li>
</ol>
<p><strong>OK，至此，服务端就启动成功了，此时我们直接在地址栏输入 <code>http://localhost:8081/index.html</code> 即可访问我们的项目，如果要做二次开发，请继续看第七、八步。</strong></p>
<ol start="7">
<li>进入到vuehr目录中，在命令行依次输入如下命令：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 安装依赖</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"># 在 localhost:8080 启动项目</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure>

<p>由于我在 vuehr 项目中已经配置了端口转发，将数据转发到 Spring Boot 上，因此项目启动之后，在浏览器中输入 <code>http://localhost:8080</code> 就可以访问我们的前端项目了，所有的请求通过端口转发将数据传到 Spring Boot 中（注意此时不要关闭 Sprin gBoot 项目）。</p>
<ol start="8">
<li>最后可以用 WebStorm 等工具打开 vuehr 项目，继续开发，开发完成后，当项目要上线时，依然进入到 vuehr 目录，然后执行如下命令：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<p>该命令执行成功之后，vuehr 目录下生成一个 dist 文件夹，将该文件夹中的两个文件 static 和 index.html 拷贝到 Spring Boot 项目中 resources/static/ 目录下，然后就可以像第 6 步那样直接访问了（关于前后端分离部署，大家也可以参考这个<a href="https://mp.weixin.qq.com/s/C7PIck3SIPPTcA3NX3ELoQ" target="_blank" rel="noopener">使用 Nginx 部署前后端分离项目，解决跨域问题</a>）。</p>
<p><strong>步骤 7 中需要大家对 NodeJS、NPM 等有一定的使用经验，不熟悉的小伙伴可以先自行搜索学习下，推荐 <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener">Vue 官方教程</a>。</strong></p>
<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><p>文档是对项目开发过程中遇到的一些问题的详细记录，主要是为了帮助没有基础的小伙伴快速理解这个项目。</p>
<ol>
<li><a href="https://github.com/lenve/vhr/wiki/1.%E6%9D%83%E9%99%90%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1" target="_blank" rel="noopener">权限数据库设计</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/2.%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA" target="_blank" rel="noopener">服务端环境搭建</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/3.%E5%8A%A8%E6%80%81%E5%A4%84%E7%90%86%E8%A7%92%E8%89%B2%E5%92%8C%E8%B5%84%E6%BA%90%E7%9A%84%E5%85%B3%E7%B3%BB" target="_blank" rel="noopener">动态处理角色和资源的关系</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/4.%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86%E5%B9%B6%E5%8A%A0%E7%9B%90" target="_blank" rel="noopener">密码加密并加盐</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/5.%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%82%E5%B8%B8%E7%9A%84%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86" target="_blank" rel="noopener">服务端异常的统一处理</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/6.axios%E8%AF%B7%E6%B1%82%E5%B0%81%E8%A3%85,%E8%AF%B7%E6%B1%82%E5%BC%82%E5%B8%B8%E7%BB%9F%E4%B8%80%E5%A4%84%E7%90%86" target="_blank" rel="noopener">axios 请求封装,请求异常统一处理</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/7.%E5%B0%86%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95%E6%8C%82%E5%88%B0Vue%E4%B8%8A" target="_blank" rel="noopener">将请求方法挂到Vue上</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/8.%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81%E7%9A%84%E4%BF%9D%E5%AD%98" target="_blank" rel="noopener">登录状态的保存</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/9.%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F%E5%90%8E%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E7%BB%84%E4%BB%B6" target="_blank" rel="noopener">登录成功后动态加载组件</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/10.%E8%A7%92%E8%89%B2%E8%B5%84%E6%BA%90%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86" target="_blank" rel="noopener">角色资源关系管理</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/11.%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E5%85%B3%E7%B3%BB%E7%AE%A1%E7%90%86" target="_blank" rel="noopener">用户角色关系管理</a></li>
</ol>
<h3 id="更新记录"><a href="#更新记录" class="headerlink" title="更新记录"></a>更新记录</h3><h3 id="2018-1-10-更新"><a href="#2018-1-10-更新" class="headerlink" title="2018.1.10 更新"></a>2018.1.10 更新</h3><p>本次更新版本：v20180110</p>
<p>本次更新完成了部门管理功能，页面在 <strong>[系统管理-&gt;基础信息设置-&gt;部门管理]</strong></p>
<blockquote>
<p>本次更新也更新了数据库脚本，小伙伴们需要重新下载数据库脚本执行。</p>
</blockquote>
<h4 id="相关文档："><a href="#相关文档：" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="12">
<li><a href="https://github.com/lenve/vhr/wiki/12.%E9%83%A8%E9%97%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E7%BC%96%E5%86%99" target="_blank" rel="noopener">部门数据库设计与存储过程编写</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/13.%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8" target="_blank" rel="noopener">递归查询与存储过程调用</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/14.Tree%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8%E8%A6%81%E7%82%B9" target="_blank" rel="noopener">Tree 树形控件使用要点</a></li>
</ol>
<h3 id="2018-1-12-更新"><a href="#2018-1-12-更新" class="headerlink" title="2018.1.12 更新"></a>2018.1.12 更新</h3><p>本次更新版本：v20180112</p>
<p>本次更新完成了职称管理和职位管理，页面在 <strong>[系统管理-&gt;基础信息设置-&gt;职位管理]</strong> 和 <strong>[系统管理-&gt;基础信息设置-&gt;职称管理]</strong> </p>
<blockquote>
<p>本次更新也更新了数据库脚本，小伙伴们需要重新下载数据库脚本执行。</p>
</blockquote>
<h4 id="相关文档：-1"><a href="#相关文档：-1" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="15">
<li><a href="https://github.com/lenve/vhr/wiki/15.%E8%81%8C%E4%BD%8D%E7%AE%A1%E7%90%86%E5%92%8C%E8%81%8C%E7%A7%B0%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">职位管理和职称管理功能介绍</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/16.%E7%BB%84%E4%BB%B6%E5%A4%8D%E7%94%A8" target="_blank" rel="noopener">组件复用</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/17.%5B%E9%A2%98%E5%A4%96%E8%AF%9D%5D%E5%88%A9%E7%94%A8git%E6%A0%87%E7%AD%BE%E5%9B%9E%E9%80%80%E8%87%B3%E4%BB%BB%E6%84%8F%E7%89%88%E6%9C%AC" target="_blank" rel="noopener">[题外话]利用 git 标签回退至任意版本</a></li>
</ol>
<h3 id="2018-1-15-更新"><a href="#2018-1-15-更新" class="headerlink" title="2018.1.15 更新"></a>2018.1.15 更新</h3><p>本次更新版本：v20180115</p>
<p>本次更新完成了员工基本信息管理，页面在 <strong>[员工资料-&gt;基本资料]</strong></p>
<blockquote>
<p>本次更新也更新了数据库脚本，小伙伴们需要重新下载数据库脚本执行。</p>
</blockquote>
<h4 id="相关文档：-2"><a href="#相关文档：-2" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="18">
<li><a href="https://github.com/lenve/vhr/wiki/18.%E5%91%98%E5%B7%A5%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">员工基本信息管理功能介绍</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/19.SpringBoot%E4%B8%AD%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A" target="_blank" rel="noopener">Spring Boot 中自定义参数绑定</a></li>
</ol>
<h3 id="2018-1-16-更新"><a href="#2018-1-16-更新" class="headerlink" title="2018.1.16 更新"></a>2018.1.16 更新</h3><p>本次更新版本：v20180116</p>
<p>本次更新完成了员工的高级搜索功能，页面在 <strong>[员工资料-&gt;基本资料]</strong></p>
<h4 id="相关文档：-3"><a href="#相关文档：-3" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="20">
<li><a href="https://github.com/lenve/vhr/wiki/20.%E9%AB%98%E7%BA%A7%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">高级搜索功能介绍</a></li>
</ol>
<h3 id="2018-1-17-更新"><a href="#2018-1-17-更新" class="headerlink" title="2018.1.17 更新"></a>2018.1.17 更新</h3><p>本次更新版本：v20180117</p>
<p>本次更新完成了员工数据的导入导出功能，即可将员工数据导出为Excel，也可以将外部Excel导入到员工数据表中，页面在 <strong>[员工资料-&gt;基本资料]</strong></p>
<h4 id="相关文档：-4"><a href="#相关文档：-4" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="21">
<li><a href="https://github.com/lenve/vhr/wiki/21.Excel%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%E6%95%88%E6%9E%9C%E5%9B%BE" target="_blank" rel="noopener">Excel 导入导出效果图</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/22.SpringMVC%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener">SpringMVC 文件下载的两种方式</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/23.POI%E7%94%9F%E6%88%90Excel" target="_blank" rel="noopener">POI 生成 Excel</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/24.axios%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6" target="_blank" rel="noopener">axios 下载文件</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/25.%E4%BD%BF%E7%94%A8POI%E5%AE%9E%E7%8E%B0Excel%E5%AF%BC%E5%85%A5" target="_blank" rel="noopener">使用 POI 实现 Excel 导入</a></li>
</ol>
<h3 id="2018-1-19-更新"><a href="#2018-1-19-更新" class="headerlink" title="2018.1.19 更新"></a>2018.1.19 更新</h3><p>本次更新版本：v20180119</p>
<p>本次更新主要实现了当管理员添加一个用户时，添加成功后，会根据该用户的邮箱自动向用户发送一封欢迎入职邮件，页面在 <strong>[员工资料-&gt;基本资料-&gt;添加员工]</strong> 详情可以参考下面的文档。 <strong>注意：邮件发送需要小伙伴小伙伴自己配置授权码，配置方式参考下面的文档，配置文件在<a href="https://github.com/lenve/vhr/blob/master/hrserver/src/main/java/org/sang/common/EmailRunnable.java" target="_blank" rel="noopener">src/main/java/org/sang/common/EmailRunnable.java</a></strong> </p>
<h4 id="相关文档：-5"><a href="#相关文档：-5" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="26">
<li><a href="https://github.com/lenve/vhr/wiki/26.SpringBoot%E4%B8%AD%E4%BD%BF%E7%94%A8Freemarker%E9%82%AE%E4%BB%B6%E6%A8%A1%E6%9D%BF%E7%94%9F%E6%88%90%E9%82%AE%E4%BB%B6" target="_blank" rel="noopener">Spring Boot 中使用 Freemarker 邮件模板生成邮件</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/27.Java%E4%B8%AD%E9%82%AE%E4%BB%B6%E7%9A%84%E5%8F%91%E9%80%81" target="_blank" rel="noopener">Java 中邮件的发送</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/28.SpringBoot%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%96%B0%E7%BA%BF%E7%A8%8B%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6" target="_blank" rel="noopener">Spring Boot 中使用新线程发送邮件</a></li>
</ol>
<h3 id="2018-1-25-更新"><a href="#2018-1-25-更新" class="headerlink" title="2018.1.25 更新"></a>2018.1.25 更新</h3><p>本次更新版本：v20180125</p>
<p>本次更新主要完成了工资账套管理功能，页面在 <strong>[薪资管理-&gt;工资账套管理]</strong></p>
<blockquote>
<p>本次更新也更新了数据库脚本，小伙伴们需要重新下载数据库脚本执行。</p>
</blockquote>
<h4 id="相关文档：-6"><a href="#相关文档：-6" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="29">
<li><a href="https://github.com/lenve/vhr/wiki/29.%E5%B7%A5%E8%B5%84%E8%B4%A6%E5%A5%97%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">工资账套管理功能介绍</a></li>
</ol>
<h3 id="2018-1-26-更新"><a href="#2018-1-26-更新" class="headerlink" title="2018.1.26 更新"></a>2018.1.26 更新</h3><p>本次更新版本：v20180126</p>
<p>本次更新主要完成了员工账套设置功能，页面在 <strong>[薪资管理-&gt;员工账套设置]</strong></p>
<blockquote>
<p>本次更新也更新了数据库脚本，小伙伴们需要重新下载数据库脚本执行。</p>
</blockquote>
<h4 id="相关文档：-7"><a href="#相关文档：-7" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="30">
<li><a href="https://github.com/lenve/vhr/wiki/30.%E5%91%98%E5%B7%A5%E8%B4%A6%E5%A5%97%E8%AE%BE%E7%BD%AE%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">员工账套设置功能介绍</a></li>
</ol>
<h3 id="2018-2-2-更新"><a href="#2018-2-2-更新" class="headerlink" title="2018.2.2 更新"></a>2018.2.2 更新</h3><p>本次更新版本：v20180202</p>
<p>本次更新完成了HR在线聊天功能，页面在 <strong>[Home页-&gt;右上角铃铛-&gt;好友聊天]</strong></p>
<h4 id="相关文档：-8"><a href="#相关文档：-8" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="31">
<li><a href="https://github.com/lenve/vhr/wiki/31.%E5%9C%A8%E7%BA%BF%E8%81%8A%E5%A4%A9%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">在线聊天功能介绍</a></li>
<li><a href="https://github.com/lenve/vhr/wiki/32.%E5%9C%A8%E7%BA%BF%E8%81%8A%E5%A4%A9%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener">在线聊天功能实现</a></li>
</ol>
<h3 id="2018-2-5-更新"><a href="#2018-2-5-更新" class="headerlink" title="2018.2.5 更新"></a>2018.2.5 更新</h3><p>本次更新版本：v20180205</p>
<p>本次更新完成了管理员发送系统通知功能，页面在 <strong>[Home页-&gt;右上角铃铛-&gt;系统通知]</strong></p>
<blockquote>
<p>本次更新也更新了数据库脚本，小伙伴们需要重新下载数据库脚本执行。</p>
</blockquote>
<h4 id="相关文档：-9"><a href="#相关文档：-9" class="headerlink" title="相关文档："></a>相关文档：</h4><ol start="33">
<li><a href="https://github.com/lenve/vhr/wiki/33.%E7%B3%BB%E7%BB%9F%E9%80%9A%E7%9F%A5%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener">系统通知功能实现</a></li>
</ol>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://github.com/microzz/vue-chat" target="_blank" rel="noopener">vue-chat</a></li>
</ul>
<h2 id="新的源码地址"><a href="#新的源码地址" class="headerlink" title="新的源码地址"></a>新的源码地址</h2><p><strong>github:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/vanicesun/vue-hr.git</span><br></pre></td></tr></table></figure>

        
      </div>
      <p class="repo-list-meta">
        <span class="meta-info">
          <span class="octicon octicon-calendar"></span>
           <time datetime="2019-12-30T01:34:17.000Z" itemprop="datePublished">2019-12-30</time>
        </span>

        
          <span class="meta-info">
            <span class="octicon octicon-file-directory"></span>
            <a href='/categories/vue/' title=''>vue</a>
          </span>
        
      
        <!--
          
            <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>
          
        -->

      </p>
    </div>
  </article>
            
                  <article id="post-vue-1" class="repo-list">
    <div class="repo-list-item" >
      <h3 class="repo-list-name" itemprop="name">
        
  
      <a class="article-title" href="/2019/12/25/vue-1/">掌上书城-mobile</a>
  

      </h3>
      <div class="repo-list-description">
        
          <blockquote>
<p>希望,是一种甜蜜的等待;想念,是一份温馨的心情;朋友,是一生修来的福分;爱情;是一世难解的缘分。祝你在人生的道路上多点快乐!多点开心!</p>
</blockquote>
<h3 id="每日一笑"><a href="#每日一笑" class="headerlink" title="每日一笑"></a>每日一笑</h3><p>遇见两个法国人。一个可能是教汉语的老师，另一个应该是他学生。老师高兴地指着中国日历对学生说：看，这两个字念’雷锋’。这是雷锋纪念日。他在中国非常有名，因为他生前帮助过很多人）学生佩服地说：啊，你真是见多识广！说完俩人高兴地走了。我凑过去一看，见日历上写的是：”霜降</p>
<h3 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h3><p>在上篇文章中介绍了Vue的安装和基本的入门级操作。这篇文章主要通过一个手机端掌上书城的简单案例来带大家深入的了解Vue和了解在实际开发中的项目的搭建和部署。</p>
<h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><strong>首页</strong><br><img src="https://img-blog.csdnimg.cn/20191225163023262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<p><strong>列表页</strong><br><img src="https://img-blog.csdnimg.cn/20191225163154578.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<p><strong>新增页</strong><br><img src="https://img-blog.csdnimg.cn/20191225163238823.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<h3 id="初始化Mobile项目"><a href="#初始化Mobile项目" class="headerlink" title="初始化Mobile项目"></a>初始化Mobile项目</h3><ul>
<li>项目结构如下：<br><img src="https://img-blog.csdnimg.cn/20191225160737799.png#pic_center" alt=""></li>
</ul>
<p><strong>dist:</strong>是我们项目打包完成后的目录<br><strong>mock:</strong>是本地服务端测试数据<br><strong>node-modules:</strong>项目所需要的插件安装位置<br><strong>src:</strong>项目的核心目录<br><strong>api:</strong>所有请求数据的接口存放的位置<br><strong>assets:</strong>静态资源存放的位置包括css,images等<br><strong>base:</strong>存放我们的基础组件<br><strong>components:</strong>存放我们的页面组件<br><strong>router:</strong>存放路由</p>
<h3 id="项目所需要的插件"><a href="#项目所需要的插件" class="headerlink" title="项目所需要的插件"></a>项目所需要的插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">前端UI框架：element-ui   -- npm install element-ui --save-dev</span><br><span class="line">发送请求axios： --npm install axios --save-dev</span><br><span class="line">路由组件router:  --npm install vue-router</span><br><span class="line">轮播图插件：  --npm install vue-awesome-swiper</span><br><span class="line">实现图片的懒加载：  --npm install vue-lazyload</span><br><span class="line">阿里巴巴图标库地址:   https://www.iconfont.cn/search/index?q=%E9%A6%96%E9%A1%B5</span><br></pre></td></tr></table></figure>

<h3 id="基础组件的使用"><a href="#基础组件的使用" class="headerlink" title="基础组件的使用"></a>基础组件的使用</h3><p>一个完整的页面组件并不是一个独立的整体，它是由很多的基础组件的组合形成的。那么在一个组件中如何引入其他组件呢？例如Home.vue中包括Top.vue,Tab.vue,Swiper.vue,Loading.vue等。<br>以Home.vue组件中引入Tab.vue为例进行说明。其他进行参考即可！<br>具体的步骤如下：</p>
<ul>
<li>新建Home.vue和Tab.vue文件</li>
<li>在Home.vue中导入Tab.vue<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Tab from &apos;./base/Tab.vue&apos;</span><br></pre></td></tr></table></figure></li>
<li>注册组件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    name: &apos;App&apos;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Tab</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
<li>使用组件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Tab&gt;&lt;/Tab&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="轮播图插件的使用"><a href="#轮播图插件的使用" class="headerlink" title="轮播图插件的使用"></a>轮播图插件的使用</h3><ul>
<li>轮播图插件安装完成后再main.js文件中进行导入并使用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import VueAwesomeSwiper from &apos;vue-awesome-swiper&apos;   //轮播图插件</span><br><span class="line">import &apos;swiper/dist/css/swiper.css&apos;</span><br><span class="line">Vue.use(VueAwesomeSwiper);</span><br></pre></td></tr></table></figure></li>
<li>新建轮播图基础组件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;swiper :options=&quot;swiperOption&quot;&gt;</span><br><span class="line">    &lt;swiper-slide v-for=&quot;(slide, index) in swiperSlides&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">      &lt;img :src=&quot;slide&quot; alt=&quot;轮播图&quot;&gt;</span><br><span class="line">    &lt;/swiper-slide&gt;</span><br><span class="line">    &lt;div class=&quot;swiper-pagination&quot; slot=&quot;pagination&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/swiper&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &apos;carousel&apos;,</span><br><span class="line">    props:[&apos;swiperSlides&apos;],</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        swiperOption: &#123;</span><br><span class="line">          autoplay:1200,</span><br><span class="line">          pagination: &apos;.swiper-pagination&apos;,</span><br><span class="line">          mousewheelControl : true</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;less&quot;&gt;</span><br><span class="line">  img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 200px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="数据请求Axios"><a href="#数据请求Axios" class="headerlink" title="数据请求Axios"></a>数据请求Axios</h3><p>上述轮播图组件新建完成，在Home.vue中引入轮播图组件<br>轮播图的测试数据sliders.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">module.exports = [</span><br><span class="line">  &apos;https://img12.360buyimg.com/babel/s590x470_jfs/t1/85934/6/7983/82595/5e008712E0e3b9c12/7cfc1ce9f03369f3.jpg.webp&apos;,</span><br><span class="line">  &apos;https://img20.360buyimg.com/pop/s590x470_jfs/t1/106050/5/7033/72549/5df99388Ed5c1018a/6eb231965d4b0432.jpg.webp&apos;,</span><br><span class="line">  &apos;https://imgcps.jd.com/ling/100010137716/55S16ISR5pWw56CB5Zyj6K-e5a2j/5pyA6auYNuacn-WFjeaBrw/p-5bd8253082acdd181d02f9d8/baf73efa.jpg&apos;,</span><br><span class="line">  &apos;https://img14.360buyimg.com/pop/s590x470_jfs/t1/98586/8/2744/73547/5dd6443fE552a8e86/2e055c6666d0c336.jpg.webp&apos;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<h3 id="服务端代码"><a href="#服务端代码" class="headerlink" title="服务端代码"></a>服务端代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line">//服务端代码</span><br><span class="line">let http = require(&apos;http&apos;);</span><br><span class="line">let fs = require(&apos;fs&apos;);</span><br><span class="line">let url = require(&apos;url&apos;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//获取热门图书数据</span><br><span class="line">function readBook(cb) &#123;</span><br><span class="line">  fs.readFile(&apos;./book.json&apos;, &apos;utf8&apos;, function (err, data) &#123;</span><br><span class="line">    if (err || data.length == 0) &#123;</span><br><span class="line">      cb([]);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      cb(JSON.parse(data));   //将内容转化为对象</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function writeBook(data, cb) &#123;   //写入内容</span><br><span class="line">  fs.writeFile(&apos;./book.json&apos;, JSON.stringify(data), cb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let pageSize = 5;  //每页显示5个</span><br><span class="line"></span><br><span class="line">//获取轮播图数据/sliders</span><br><span class="line">let sliders = require(&apos;./sliders.js&apos;);</span><br><span class="line">http.createServer((req, res) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  //解决跨域问题</span><br><span class="line">  res.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);</span><br><span class="line">  res.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type,Content-Length, Authorization, Accept,X-Requested-With&quot;);</span><br><span class="line">  res.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;PUT,POST,GET,DELETE,OPTIONS&quot;);</span><br><span class="line">  res.setHeader(&quot;X-Powered-By&quot;, &apos; 3.2.1&apos;)</span><br><span class="line">  if (req.method == &quot;OPTIONS&quot;) &#123;</span><br><span class="line">    return res.end(&quot;200&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  /*让options请求快速返回*/</span><br><span class="line"></span><br><span class="line">  let &#123;pathname, query&#125; = url.parse(req.url, true);</span><br><span class="line">  if (pathname === &apos;/sliders&apos;) &#123;</span><br><span class="line">    res.setHeader(&apos;Content-Type&apos;, &apos;application/json;charset=utf8&apos;)</span><br><span class="line">    return res.end(JSON.stringify(sliders))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  if (pathname === &apos;/hot&apos;) &#123;</span><br><span class="line">    readBook(function (books) &#123;</span><br><span class="line">      let hot = books.reverse().slice(0, 6);</span><br><span class="line">      res.setHeader(&apos;Content-Type&apos;, &apos;application/json;charset=utf8&apos;);</span><br><span class="line">      //设置加载延迟</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        res.end(JSON.stringify(hot));</span><br><span class="line">      &#125;, 500);</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //对图书数据进行查询下拉(就是分页查询数据)</span><br><span class="line">  if (pathname === &apos;/page&apos;) &#123;</span><br><span class="line">    let offset = parseInt(query.offset) || 0;</span><br><span class="line">    //拿到前端传递的值</span><br><span class="line">    readBook(function (books) &#123;</span><br><span class="line">      let result = books.reverse().slice(offset, pageSize+offset);</span><br><span class="line">      let hasMore = true;</span><br><span class="line">      if (books.length &lt;= pageSize + offset) &#123;</span><br><span class="line">        hasMore = false;</span><br><span class="line">      &#125;</span><br><span class="line">      res.setHeader(&apos;Content-Type&apos;, &apos;application/json;charset=utf8&apos;);</span><br><span class="line">      res.end(JSON.stringify(&#123;hasMore,books:result&#125;));</span><br><span class="line">    &#125;);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (pathname === &apos;/book&apos;) &#123;  //对书的增删改查</span><br><span class="line">    let id = parseInt(query.id);</span><br><span class="line">    switch (req.method) &#123;</span><br><span class="line">      case &apos;GET&apos;:</span><br><span class="line">        if (id) &#123;//查询单个图书</span><br><span class="line">          readBook(function (books) &#123;</span><br><span class="line">            let book = books.find(item =&gt; item.id === id);</span><br><span class="line">            if (!book) &#123;</span><br><span class="line">              book = &#123;&#125;;  //如果没有数据则返回undifined</span><br><span class="line">            &#125;</span><br><span class="line">            res.setHeader(&apos;Content-Type&apos;, &apos;application/json;charset=utf8&apos;);</span><br><span class="line">            res.end(JSON.stringify(book));</span><br><span class="line">          &#125;);</span><br><span class="line"></span><br><span class="line">        &#125; else &#123;//获取所有图书</span><br><span class="line">          readBook(function (books) &#123;</span><br><span class="line">            res.setHeader(&apos;Content-Type&apos;, &apos;application/json;charset=utf8&apos;);</span><br><span class="line">            res.end(JSON.stringify(books));</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        break;</span><br><span class="line">      case &apos;POST&apos;:</span><br><span class="line">        let str = &apos;&apos;;</span><br><span class="line">        req.on(&apos;data&apos;, chunk =&gt; &#123;</span><br><span class="line">          str += chunk</span><br><span class="line">        &#125;);</span><br><span class="line">        req.on(&apos;end&apos;, () =&gt; &#123;</span><br><span class="line">          let book = JSON.parse(str);</span><br><span class="line">          readBook(function (books) &#123;</span><br><span class="line">            book.id = books.length ? books[books.length - 1].id + 1 : 1;</span><br><span class="line">            books.push(book);</span><br><span class="line">            writeBook(books, function () &#123;</span><br><span class="line">              res.end(JSON.stringify(book));</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        break;</span><br><span class="line">      case &apos;PUT&apos;:</span><br><span class="line">        if (id) &#123;//获取当前修改的ID</span><br><span class="line">          let str = &apos;&apos;;</span><br><span class="line">          req.on(&apos;data&apos;, (chunk) =&gt; &#123;</span><br><span class="line">            str += chunk;</span><br><span class="line">          &#125;);</span><br><span class="line">          req.on(&apos;end&apos;, () =&gt; &#123;</span><br><span class="line">            let book = JSON.parse(str);</span><br><span class="line">            readBook(function (books) &#123;</span><br><span class="line">              books = books.map(item =&gt; &#123;</span><br><span class="line">                if (item.id === id) &#123;//找到ID相同的修改返回</span><br><span class="line">                  return book;</span><br><span class="line">                &#125;</span><br><span class="line">                return item;  //ID不同的正常返回其他的数据</span><br><span class="line">              &#125;);</span><br><span class="line">              writeBook(books, function () &#123;  //将数据写回JSON文件中</span><br><span class="line">                res.end(JSON.stringify(book));</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        break;</span><br><span class="line">      case &apos;DELETE&apos;:</span><br><span class="line">        readBook(function (books) &#123;</span><br><span class="line">          books = books.filter(item =&gt; item.id !== id);</span><br><span class="line">          writeBook(books, function () &#123;</span><br><span class="line">            res.end(JSON.stringify(&#123;&#125;));   //删除成功返回空对象</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        break;</span><br><span class="line">    &#125;</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //运行静态文件读取一个路径</span><br><span class="line">  fs.stat(&apos;.&apos; + pathname,function (err,stats) &#123;</span><br><span class="line">    if(err)&#123;</span><br><span class="line">      res.statusCode = 404;</span><br><span class="line">      res.end(&apos;NOT FOUND&apos;);</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      if(stats.isDirectory())&#123;</span><br><span class="line">        let path = require(&apos;path&apos;).join(&apos;.&apos; + pathname,&apos;./index.html&apos;);</span><br><span class="line">        fs.createReadStream(path).pipe(res);</span><br><span class="line">      &#125;else&#123;</span><br><span class="line">        fs.createReadStream(&apos;.&apos; + pathname).pipe(res);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;).listen(3000);</span><br></pre></td></tr></table></figure>

<h3 id="对应接口代码"><a href="#对应接口代码" class="headerlink" title="对应接口代码"></a>对应接口代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">import axios from &apos;axios&apos;</span><br><span class="line">//默认url</span><br><span class="line">axios.defaults.baseURL = &apos;http://localhost:3000&apos;;</span><br><span class="line"></span><br><span class="line">//获取轮播图方法</span><br><span class="line">export let getSliders = ()=&gt;&#123;</span><br><span class="line">  return axios.get(&apos;/sliders&apos;)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//获取热门图书数据</span><br><span class="line">export let getHotBook = ()=&gt;&#123;</span><br><span class="line">  return axios.get(&apos;/hot&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//获取所有图书</span><br><span class="line">export let getAllBook = ()=&gt;&#123;</span><br><span class="line">  return axios.get(&apos;/book&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//删除某一本图书</span><br><span class="line">export let removeBook=(id)=&gt;&#123;</span><br><span class="line">  return axios.delete(`/book?id=$&#123;id&#125;`)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//查询图书详情信息</span><br><span class="line">export let findBookInfoById=(id)=&gt;&#123;</span><br><span class="line">  return axios.get(`/book?id=$&#123;id&#125;`);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 修改图书</span><br><span class="line"> * @param id</span><br><span class="line"> * @param data 数据</span><br><span class="line"> * @returns &#123;Promise&lt;AxiosResponse&lt;T&gt;&gt;&#125;</span><br><span class="line"> */</span><br><span class="line">export let editBookInfo=(id,data)=&gt;&#123;</span><br><span class="line"> return axios.put(`/book?id=$&#123;id&#125;`,data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//新增图书</span><br><span class="line">export let addBookInfo=(data)=&gt;&#123;</span><br><span class="line">  return axios.post(&apos;/book&apos;,data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//实现全局加载</span><br><span class="line">// export let getAll=()=&gt;&#123;</span><br><span class="line">//   return axios.all([getSliders(),getHotBook()]);</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line">//数据下拉</span><br><span class="line">export let moreData =(offset)=&gt;&#123;</span><br><span class="line">  return axios.get(`/page?offset=$&#123;offset&#125;`);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="路由元信息实现页面缓存和路由动画"><a href="#路由元信息实现页面缓存和路由动画" class="headerlink" title="路由元信息实现页面缓存和路由动画"></a>路由元信息实现页面缓存和路由动画</h3><p>对于数据量较大的网页，我们采用缓存机制，这样下次在进行加载时速度会得到明显的提升<br>在首页进行数据缓存在router.js下找到要进行缓存的路由地址添加 meta:{keepAlive: true} 即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: &apos;/home&apos;,</span><br><span class="line">  name: &apos;Home&apos;,</span><br><span class="line">  component: ()=&gt;import(&apos;../components/Home.vue&apos;),</span><br><span class="line">  meta:&#123;keepAlive: true&#125;   //是否需要缓存   取得时候:this.$route.meta.keepAlive</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后在App.vue中使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--实现路由动画--&gt;</span><br><span class="line">    &lt;transition name=&quot;fadeIn&quot;&gt;</span><br><span class="line">      &lt;keep-alive&gt;</span><br><span class="line">        &lt;!--需要进行缓存--&gt;</span><br><span class="line">        &lt;router-view v-if=&quot;$route.meta.keepAlive&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">    &lt;!--正常的访问走下面--&gt;</span><br><span class="line">    &lt;transition name=&quot;fadeIn&quot;&gt;</span><br><span class="line">      &lt;router-view v-if=&quot;!$route.meta.keepAlive&quot;&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">    &lt;Tab&gt;&lt;/Tab&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="图片的懒加载"><a href="#图片的懒加载" class="headerlink" title="图片的懒加载"></a>图片的懒加载</h3><p>使用图片的懒加载，当访问时才进行图片资源的访问，减少流量，提升资源的使用率。<br>代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//实现图片懒加载</span><br><span class="line">import VueLazyload from &apos;vue-lazyload&apos;</span><br><span class="line">Vue.use(VueLazyload,&#123;</span><br><span class="line">  preLoad:1.3,</span><br><span class="line">  error:&apos;http://bpic.588ku.com/element_origin_min_pic/00/56/29/4556d9f8022935e.jpg&apos;,</span><br><span class="line">  loading:&apos;http://www.17qq.com/img_qqtouxiang/79912467.jpeg&apos;,</span><br><span class="line">  attempt:1</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>在图片标签中使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img v-lazy=&quot;hot.bookCover&quot; alt=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure>
<h3 id="代码分割-coding-split"><a href="#代码分割-coding-split" class="headerlink" title="代码分割 coding split"></a>代码分割 coding split</h3><p>为减少资源的使用率，提升项目的运行速度。每当我们新建一个组件时就在router.js中导入。原来的处理形式为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import Home from &apos;@/components/Home&apos;</span><br><span class="line">import Add from &apos;@/components/Add&apos;</span><br><span class="line">import Collect from &apos;@/components/Collect&apos;</span><br><span class="line">import Detail from &apos;@/components/Detail&apos;</span><br><span class="line">import List from &apos;@/components/List</span><br></pre></td></tr></table></figure>
<p>这样项目启东时会加载所有的组件，在最后项目打包时也会占用大量的资源和生成的文件较大。所以采用下述的形式进行代码分割：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: &apos;/&apos;,</span><br><span class="line">      redirect: &apos;/home&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: &apos;*&apos;,</span><br><span class="line">      redirect: &apos;/home&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: &apos;/add&apos;,</span><br><span class="line">      name: &apos;Add&apos;,</span><br><span class="line">      component: ()=&gt;import(&apos;../components/Add.vue&apos;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: &apos;/home&apos;,</span><br><span class="line">      name: &apos;Home&apos;,</span><br><span class="line">      component: ()=&gt;import(&apos;../components/Home.vue&apos;),</span><br><span class="line">      meta:&#123;keepAlive: true&#125;   //是否需要缓存   取得时候:this.$route.meta.keepAlive</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: &apos;/detail/:bid&apos;,</span><br><span class="line">      name: &apos;detail&apos;,</span><br><span class="line">      component: ()=&gt;import(&apos;../components/Detail.vue&apos;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: &apos;/list&apos;,</span><br><span class="line">      name: &apos;List&apos;,</span><br><span class="line">      component: ()=&gt;import(&apos;../components/List.vue&apos;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: &apos;/collect&apos;,</span><br><span class="line">      name: &apos;Collect&apos;,</span><br><span class="line">      //将组件按照函数的方法进行动态加载组件</span><br><span class="line">      component:()=&gt;import(&apos;../components/Collect.vue&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>
<p>这样请求那个路由，对应的组件才会加载出来。节省资源</p>
<h3 id="项目打包"><a href="#项目打包" class="headerlink" title="项目打包"></a>项目打包</h3><p><strong>npm run build</strong><br>右键启动server.js文件</p>
<h3 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h3><p><strong>github地址：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/vanicesun/vue-mobil.git</span><br></pre></td></tr></table></figure>



        
      </div>
      <p class="repo-list-meta">
        <span class="meta-info">
          <span class="octicon octicon-calendar"></span>
           <time datetime="2019-12-25T07:00:48.000Z" itemprop="datePublished">2019-12-25</time>
        </span>

        
          <span class="meta-info">
            <span class="octicon octicon-file-directory"></span>
            <a href='/categories/vue/' title=''>vue</a>
          </span>
        
      
        <!--
          
            <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>
          
        -->

      </p>
    </div>
  </article>
            
                  <article id="post-vue" class="repo-list">
    <div class="repo-list-item" >
      <h3 class="repo-list-name" itemprop="name">
        
  
      <a class="article-title" href="/2019/12/18/vue/">初识渐进式框架Vue</a>
  

      </h3>
      <div class="repo-list-description">
        
          <blockquote>
<p>成功的花，人们只惊羡它的明艳，然而当初的芽儿浸透了奋斗的泪泉，洒遍了牺牲的血雨。</p>
</blockquote>
<h3 id="Vue-js是什么？"><a href="#Vue-js是什么？" class="headerlink" title="Vue.js是什么？"></a>Vue.js是什么？</h3><p>Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。<br>官方提供的视频:<img src="https://player.youku.com/embed/XMzMwMTYyODMyNA==?autoplay=true&client_id=37ae6144009e277d" alt=""><br>官方提供的学习地址:<img src="https://vuejs.bootcss.com/v2/guide/" alt=""></p>
<h3 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h3><p>在这篇博客中只是简单的介绍vue的相关基础用法，我们采用npm的方式进行vue项目的安装和运行，前提条件是安装node.js具体的安装步骤参考node官方网站<br><strong>node.js的下载地址:</strong><img src="https://nodejs.org/en/download/" alt=""></p>
<h3 id="初始化Vue项目"><a href="#初始化Vue项目" class="headerlink" title="初始化Vue项目"></a>初始化Vue项目</h3><p>在这里采用淘宝镜像进行安装<br><strong>可以通过node -v 和 npm -v 命令来查看对应的版本号</strong><br>1.全局安装vue的脚手架，类似于Java的开发环境一样。vue的运行也同样需要环境来支持<br><strong>npm install vue-cli -g</strong><br>2.初始化一个vue项目<br><strong>vue init webpack ‘项目名’</strong><br>3.进入创建好得项目中<br><strong>npm install</strong><br>4.运行环境<br><strong>npm run dev</strong></p>
<h3 id="安装前端组件element-ui"><a href="#安装前端组件element-ui" class="headerlink" title="安装前端组件element-ui"></a>安装前端组件element-ui</h3><p>vue项目中组件化是vue的核心，常用的前端框架ElementUI<br>1.安装element-ui<br><strong>npm i element-ui -S</strong><br>当element-ui安装完成后再main.js中进行引用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import ElementUI from &apos;element-ui&apos;</span><br><span class="line">import &apos;element-ui/lib/theme-chalk/index.css&apos;</span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure>

<h3 id="安装路由组件Router"><a href="#安装路由组件Router" class="headerlink" title="安装路由组件Router"></a>安装路由组件Router</h3><p>vue项目中常用到页面之间的相互跳转<br><strong>npm install vue-router –save</strong><br>安装完成后再main.js中进行引用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import router from &apos;./router&apos;</span><br><span class="line">Vue.use(router);</span><br></pre></td></tr></table></figure>
<h3 id="新建-vue文件"><a href="#新建-vue文件" class="headerlink" title="新建.vue文件"></a>新建.vue文件</h3><p>vue项目初始化完成后运行显示的App.vue但是在实际的开发过程中我们需要新建一个.vue文件<br>一般来说在component文件夹中新建或者自建一个新的文件夹来存放改文件<br>新建Home.vue文件代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123;message&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            message: &apos;welcome&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>完成后需要在router中进行路由的配置：<br>在router的index.js中代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import Home from &apos;@/views/Home&apos;</span><br><span class="line"></span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  mode: &apos;history&apos;,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      name: &apos;Homes&apos;,</span><br><span class="line">      path: &apos;/home&apos;,</span><br><span class="line">      component: Home</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="页面间进行跳转"><a href="#页面间进行跳转" class="headerlink" title="页面间进行跳转"></a>页面间进行跳转</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//点击跳转新的页面</span><br><span class="line">    newPage()&#123;</span><br><span class="line">     const vm = this;</span><br><span class="line">     vm.$router.push(&#123;name: &apos;Homes&apos;, params: &#123; id: 10 &#125;&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="参数的接受"><a href="#参数的接受" class="headerlink" title="参数的接受"></a>参数的接受</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;获取参数ID为:&#123;&#123;this.$route.params.id&#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>



        
      </div>
      <p class="repo-list-meta">
        <span class="meta-info">
          <span class="octicon octicon-calendar"></span>
           <time datetime="2019-12-18T03:51:53.000Z" itemprop="datePublished">2019-12-18</time>
        </span>

        
          <span class="meta-info">
            <span class="octicon octicon-file-directory"></span>
            <a href='/categories/vue/' title=''>vue</a>
          </span>
        
      
        <!--
          
            <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>
          
        -->

      </p>
    </div>
  </article>
            
                  <article id="post-aipay" class="repo-list">
    <div class="repo-list-item" >
      <h3 class="repo-list-name" itemprop="name">
        
  
      <a class="article-title" href="/2019/12/16/aipay/">SSM框架实现支付宝支付功能</a>
  

      </h3>
      <div class="repo-list-description">
        
          <blockquote>
<p>移动互联时代的来临，快捷的移动支付使得生活变得越来越多姿多彩。那么移动支付到底是怎么实现的呢？今天就让我们来揭开它的神秘面纱！</p>
</blockquote>
<h3 id="支付宝测试环境代码测试"><a href="#支付宝测试环境代码测试" class="headerlink" title="支付宝测试环境代码测试"></a>支付宝测试环境代码测试</h3><p><strong>源代码</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Github地址：https://github.com/OUYANGSIHAI/sihai-maven-ssm-alipay</span><br></pre></td></tr></table></figure>
<p><strong>当然可以下载官方的demo</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://docs.open.alipay.com/270/106291/</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/2019121614310813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<h3 id="配置AlipayConfig"><a href="#配置AlipayConfig" class="headerlink" title="配置AlipayConfig"></a>配置AlipayConfig</h3><p><strong>(1) 注册蚂蚁金服开发者账号（免费，不像苹果会收取费用）</strong></p>
<p>*<em>注册地址：<a href="https://open.alipay.com" target="_blank" rel="noopener">https://open.alipay.com</a> *</em>，用你的支付宝账号扫码登录，完善个人信息，选择服务类型（我选的是自研）。<br><img src="https://img-blog.csdnimg.cn/20191216143438154.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<p><strong>(2)设置app_id和gatewayUrl</strong><br><img src="https://img-blog.csdnimg.cn/20191216143747263.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>其中密钥需要自己生成，appID和支付宝网关是已经给好的，网关有dev字样，表明是用于开发测试。<br><strong>(3) 设置密钥</strong><br><img src="https://img-blog.csdnimg.cn/20191216144028707.png#pic_center" alt=""><br>点击“生成方法”，打开界面如下：<br><img src="https://img-blog.csdnimg.cn/20191216144111780.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>下载密钥生成工具，解压打开后，选择2048位生成密钥：<br><img src="https://img-blog.csdnimg.cn/20191216144331953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>设置方法,”打开密钥文件路径”：<br><img src="https://img-blog.csdnimg.cn/20191216144510845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br><img src="https://img-blog.csdnimg.cn/20191216144605254.png#pic_center" alt=""><br>复制应用公钥2048.txt中的内容到点击”设置应用公钥”的弹出框中，保存：</p>
<h3 id="商户私钥（merchant-private-key）"><a href="#商户私钥（merchant-private-key）" class="headerlink" title="商户私钥（merchant_private_key）"></a>商户私钥（merchant_private_key）</h3><p>复制 应用私钥2048.txt 中的内容到merchant_private_key中。</p>
<h3 id="支付宝公钥（alipay-public-key）"><a href="#支付宝公钥（alipay-public-key）" class="headerlink" title="支付宝公钥（alipay_public_key）"></a>支付宝公钥（alipay_public_key）</h3><p><img src="https://img-blog.csdnimg.cn/20191216144847151.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>点击如上图链接，复制弹出框里面的内容到alipay_public_key。<br>如果这个设置不对，结果是：支付成功，但是验签失败。<br>如果是正式环境，需要上传到对应的应用中：<br><img src="https://img-blog.csdnimg.cn/20191216145134149.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<p><strong>(4) 服务器异步通知页面路径（notify_url）</strong></p>
<p>如果没有改名，修改IP和端口号就可以了，我自己的如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/alipay.trade.page.pay-JAVA-UTF-8/notify_url.jsp</span><br></pre></td></tr></table></figure>
<p><strong>(5) 页面跳转同步通知页面的路径（return_url）</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/alipay.trade.page.pay-JAVA-UTF-8/return_url.jsp</span><br></pre></td></tr></table></figure>

<h3 id="测试运行"><a href="#测试运行" class="headerlink" title="测试运行"></a>测试运行</h3><p><img src="https://img-blog.csdnimg.cn/20191216145430728.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<p>测试用的支付宝买家账户可以在”沙箱账”这个页面可以找到：<br><img src="https://img-blog.csdnimg.cn/20191216145557853.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjEwMDA2NA==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br>支付成功后，验签结果</p>

        
      </div>
      <p class="repo-list-meta">
        <span class="meta-info">
          <span class="octicon octicon-calendar"></span>
           <time datetime="2019-12-16T06:20:50.000Z" itemprop="datePublished">2019-12-16</time>
        </span>

        
          <span class="meta-info">
            <span class="octicon octicon-file-directory"></span>
            <a href='/categories/移动支付/' title=''>移动支付</a>
          </span>
        
      
        <!--
          
            <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>
          
        -->

      </p>
    </div>
  </article>
            
        </div>
        <div class="column one-third">
          <!--处理未安装 search 插件 默认 Google 搜索-->
 

<h3>Search</h3>

<div id="site_search">

	<!-- Google -->
	

	<!-- 本地搜索 -->
	
		<form id="search-form" >
			<input type="text" id="search" placeholder="Search" >
			<button type="button" class="btn btn-default" id="site_search_do"><span class="octicon octicon-search"></span></button>
		</form>

		<div id="local-search-result"></div>

		<script src="/js/search.js"></script>	
		<script type="text/javascript">
			$(function(){
				var currentIndex = -1;
				var search_path = "search.xml";
				if (!search_path) search_path = "search.xml";
				var path = "/" + search_path;
				searchFunc(path, 'search', 'local-search-result');

				$(document).delegate("#local-search-result>.search-result-list li","hover",function(){
					var liNode = $("#local-search-result>.search-result-list li");
					liNode.removeClass("hover");
					currentIndex = $("#local-search-result>.search-result-list li").index($(this));
					liNode.eq(currentIndex).addClass("hover");
				})

				$("#search-form").submit(function(){
					return false;
				})

				$("#search").keydown(function(event){
					var keyCode = event.keyCode;
					var liNode = $("#local-search-result>.search-result-list li");
					if(keyCode == 38 || keyCode == 40 || keyCode == 13){
						liNode.removeClass("hover");
						if(keyCode == 38){
							if(currentIndex - 1 >= 0) currentIndex --;
						}
						if(keyCode == 40){
							if(currentIndex + 1 < liNode.length) currentIndex ++;
						}
						if(keyCode == 13){
							location.href = liNode.eq(currentIndex).find("a").attr("href");
						}
						liNode.eq(currentIndex).addClass("hover");
						return false;
					}else{
						currentIndex = -1;
					}
				})
			})
		</script>

	

</div>

<h3>Popular Repositories</h3>
    <div class="popular-container"></div>
    
    <script type="text/template" id="popular-list-template">
        <a href="{%=clone_url%}" class="card text-center" target="_blank">
            <div class="thumbnail">
                <div class="card-image geopattern" data-pattern-id="{%=name%}">
                    <div class="card-image-cell">
                        <h3 class="card-title">
                            {%=name%}
                        </h3>
                    </div>
                </div>
                <div class="caption">
                    <div class="card-description">
                        <p class="card-text">
                            {%=description%}
                        </p>
                    </div>
                    <div class="card-text">
                        <span class="meta-info tooltipped tooltipped-n" aria-label="{%=stargazers_count%} stars">
                            <span class="octicon octicon-star"></span> {%=stargazers_count%}
                        </span>
                        <span class="meta-info tooltipped tooltipped-n" aria-label="{%=forks_count%} forks">
                            <span class="octicon octicon-git-branch"></span> {%=forks_count%}
                        </span>
                        <span class="meta-info tooltipped tooltipped-n" aria-label="最后更新时间：{%=updated_at%}">
                            <span class="octicon octicon-clock"></span>
                            <time datetime="{%=updated_at%}">{%=updated_at%}</time>
                        </span>
                    </div>
                </div>
            </div>
        </a>
    </script>

    <script src="/js/baiduTemplate.js"></script>
    <script type="text/javascript">
        var popular_repos = function(){

            var baiduTpl = new Object();

            var handleTpl = function(){
                baiduTpl.popular_list = baidu.template("popular-list-template");
            };

            var handleGithub = function(){
                var popularContainer = $(".popular-container");

                var repos = "vue-hr,vue-mobil,spring-boot-examples".split(",");
                for(var i in repos){
                    var name = repos[i];
                    $.get("https://api.github.com/repos/vanicesun/"+name,handle);
                }

                function handle(result){
                    result.updated_at = result.updated_at.split("T")[0];
                    if(result){
                        var html = baiduTpl.popular_list(result);
                        popularContainer.append(html);
                        $(".geopattern").each(function(){           
                            $(this).geopattern($(this).data('pattern-id'));
                        });
                    }
                }
            };

            return {
                init:function(){
                    handleTpl();
                    handleGithub();
                }
            }
        }; 
        $(popular_repos().init);
    </script>

        </div>
    </div>

    
      <div class="pagination text-align">
          <div class="btn-group">
              <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">&amp;raquo;</a>
          </div>
      </div>
    
</section>

<footer class="container">
    <div class="site-footer" role="contentinfo">
        <div class="copyright left mobile-block">
                © 2016
                <span title="yumemor">yumemor</span>
                <a href="javascript:window.scrollTo(0,0)" target="_blank" rel="noopener" class="right mobile-visible">TOP</a>
        </div>

        <ul class="site-footer-links right mobile-hidden">
            <li>
                <a href="javascript:window.scrollTo(0,0)" target="_blank" rel="noopener" >TOP</a>
            </li>
        </ul>

        <a href="https://github.com/yumemor/hexo-theme-primer" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <ul class="site-footer-links mobile-hidden">
            
                  
                  <li>
                    <a href="/"  title="首页">首页</a>
                  </li>
            
                  
                  <li>
                    <a href="/categories/"  title="分类">分类</a>
                  </li>
            
                  
                  <li>
                    <a href="/open-source/"  title="开源">开源</a>
                  </li>
            
                  
                  <li>
                    <a href="/about/"  title="关于">关于</a>
                  </li>
            
            <li>
                <a href="/atom.xml">
                    <span class="octicon octicon-rss" style="color:orange;"></span>
                </a>
            </li>
        </ul>
    </div>
</footer>

		<script src="/js/geopattern.js"></script>
		<script src="/js/highlight.pack.js"></script>
		<script src="/lib/fancybox/jquery.fancybox-1.3.4.pack.js"></script>

		

		<script src="/js/index.js"></script>

		 <script src="/js/popular_repo.js"></script> 

	</body>
</html>